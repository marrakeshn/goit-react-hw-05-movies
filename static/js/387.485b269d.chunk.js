"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[387],{3387:function(n,e,t){t.r(e),t.d(e,{default:function(){return _}});var r,a,i,c,s,u,o=t(4165),p=t(5861),f=t(9439),d=t(2791),l=t(7689),h=t(7737),x=t(4321),Z=t(168),g=t(5706),m=g.Z.ul(r||(r=(0,Z.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  column-gap: 24px;\n  row-gap: 16px;\n\n  list-style: none;\n"]))),v=g.Z.li(a||(a=(0,Z.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  padding: 8px;\n  width: 200px;\n\n  border: 1px solid grey;\n  border-radius: 4px;\n"]))),w=g.Z.div(i||(i=(0,Z.Z)(["\n  margin-top: 8px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),b=g.Z.p(c||(c=(0,Z.Z)(["\n  padding: 0;\n  margin: 0 0 8px;\n  font-size: 16px;\n  font-weight: 700;\n  color: #fff;\n"]))),y=g.Z.p(s||(s=(0,Z.Z)(["\n  padding: 0;\n  margin: 0;\n  font-size: 16px;\n  color: #fff;\n"]))),j=g.Z.img(u||(u=(0,Z.Z)(["\n  display: block;\n  margin: 0 auto;\n"]))),k=t(184),_=function(){var n=(0,d.useState)([]),e=(0,f.Z)(n,2),t=e[0],r=e[1],a=(0,l.UO)().id,i=(0,d.useState)(""),c=(0,f.Z)(i,2),s=c[0],u=c[1],Z=(0,d.useState)("idle"),g=(0,f.Z)(Z,2),_=g[0],C=g[1];return(0,d.useEffect)((function(){var n=new AbortController;function e(){return(e=(0,p.Z)((0,o.Z)().mark((function e(){var t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C("pending"),e.next=4,(0,h.b6)(a,n);case 4:t=e.sent,r(t.data.cast),C("responded"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),"ERR_CANCELED"!==e.t0.code&&u(e.t0.message||e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return function(){e.apply(this,arguments)}(),function(){n.abort()}}),[a]),(0,k.jsxs)(k.Fragment,{children:[s&&(0,k.jsx)("p",{children:s}),"responded"===_&&(0,k.jsx)(k.Fragment,{children:t.length>0?(0,k.jsx)(m,{children:t.map((function(n){var e=n.character,t=n.name,r=n.profile_path,a=n.cast_id;return(0,k.jsxs)(v,{children:[(0,k.jsx)(j,{src:r?"https://image.tmdb.org/t/p/w200".concat(r):"https://via.placeholder.com/100x150",width:"100",alt:t}),(0,k.jsxs)(w,{children:[(0,k.jsxs)(b,{children:[t," "]}),(0,k.jsxs)(y,{children:[" ",e]})]})]},a)}))}):(0,k.jsx)("p",{children:"We don't have any cast for this movie :( "})}),"pending"===_&&(0,k.jsx)(x.a,{}),(0,k.jsx)(d.Suspense,{fallback:(0,k.jsx)(x.a,{}),children:(0,k.jsx)(l.j3,{})})]})}},4321:function(n,e,t){t.d(e,{a:function(){return u}});var r,a=t(9439),i=t(6286),c=t(2791),s=t(184),u=function(n){var e=n.pending,t=(0,c.useState)(!0),u=(0,a.Z)(t,2),o=u[0],p=u[1];if((0,c.useEffect)((function(){e&&(p(!0),r&&clearTimeout(r),r=setTimeout((function(){p(!1)}),2e3))}),[e]),!o)return(0,s.jsx)(i.fe,{visible:!0,height:"150",width:"150",ariaLabel:"dna-loading",wrapperStyle:{},wrapperClass:"dna-wrapper"})}},7737:function(n,e,t){t.d(e,{XB:function(){return u},ax:function(){return o},b6:function(){return f},mw:function(){return p},rl:function(){return d}});var r=t(4165),a=t(5861),i=t(1243);i.Z.defaults.baseURL="https://api.themoviedb.org";var c="f341564f871ad54342c422dd44d9e8b4",s=function(n){return{signal:n.signal,params:{api_key:c}}},u=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("/3/trending/movie/week",s(e));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),o=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e,t){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("3/search/movie",{signal:t.signal,params:{api_key:c,query:e}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),p=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e,t){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("3/movie/".concat(e),s(t));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),f=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e,t){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("3/movie/".concat(e,"/credits"),s(t));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),d=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e,t){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("3/movie/".concat(e,"/reviews"),s(t));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}}]);
//# sourceMappingURL=387.485b269d.chunk.js.map