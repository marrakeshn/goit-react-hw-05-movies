{"version":3,"file":"static/js/899.883c154c.chunk.js","mappings":"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","sources":["components/Loader.jsx","components/MoviesList/MoviesList.styled.js","components/MoviesList/MoviesList.jsx","pages/MoviesPage.styled.js","pages/MoviesPage.jsx","services/tmdb-api.js"],"sourcesContent":["import { Dna } from 'react-loader-spinner';\nimport { useState, useEffect } from 'react';\n\nconst delay = 2000;\nlet setTimeoutInstance;\n  \n\nexport const Loader = ({ pending }) => {\n  const [isExpired, setIsExpired] = useState(true);\n\n  useEffect(() => {\n    if (pending) {\n      setIsExpired(true);\n\n      if (setTimeoutInstance) {\n        clearTimeout(setTimeoutInstance);\n      }\n      setTimeoutInstance = setTimeout(() => {\n        setIsExpired(false);\n      }, delay);\n    }\n  }, [pending]);\n\n  if (!isExpired) {\n    return (\n        <Dna\n            visible={true}\n            height=\"150\"\n            width=\"150\"\n            ariaLabel=\"dna-loading\"\n            wrapperStyle={{}}\n            wrapperClass=\"dna-wrapper\"\n        />\n    );\n  }\n};","import styled from '@emotion/styled';\n\nexport const List = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  font-size: 16px;\n`;","import { Link, useLocation } from 'react-router-dom';\nimport { List } from './MoviesList.styled';\nimport PropTypes from 'prop-types';\n\nexport const MoviesList = ({ data, prefix }) => {\n  const location = useLocation();\n\n  return (\n    { data } && (\n      <List>\n        {data.map(elem => (\n          <li key={elem.id}>\n            <Link to={`${prefix}${elem.id}`} state={{ from: location }}>\n              {elem.title || elem.name}\n            </Link>\n          </li>\n        ))}\n      </List>\n    )\n  );\n};\n\nMoviesList.propTypes = {\n  data: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};","import styled from '@emotion/styled';\n\nexport const SearchWraper = styled.div`\n  padding: 8px;\n  margin-bottom: 8px;\n\n  border-bottom: 1px solid grey;\n`;\n\nexport const SearchLabel = styled.label`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 8px;\n\n  width: 350px;\n\n  padding: 8px 16px 8px 8px;\n  font-size: 16px;\n\n  border: 1px solid grey;\n  border-radius: 4px;\n`;\n\nexport const SearchField = styled.input`\n  border: none;\n  outline: none;\n\n  width: 100%;\n`;\n\nexport const SearchBtn = styled.button`\n  border: 0;\n  background-color: transparent;\n  cursor: pointer;\n`;","import { Suspense, useState } from 'react';\nimport { Outlet } from 'react-router-dom';\nimport { AiOutlineSearch } from 'react-icons/ai';\nimport { Loader } from 'components/Loader';\nimport {\n  SearchField,\n  SearchLabel,\n  SearchWraper,\n  SearchBtn,\n} from './MoviesPage.styled';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\nimport { loadSearchList } from 'services/tmdb-api';\n\nconst MoviesPage = () => {\n  const [moviesList, setMoviesList] = useState([]);\n  const [error, setError] = useState('');\n  const abortController = new AbortController();\n  const [status, setStatus] = useState('idle');\n\n  const fetch = async (query) => {\n      try {\n        setStatus('pending');\n        const result = await loadSearchList(query, abortController);\n        setMoviesList(result.data.results);\n        setStatus('responded');\n      } catch (err) {\n        err.code !== 'ERR_CANCELED' && setError(err.message || err)\n      }\n    }\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const searchValue = event.target[0].value;\n    fetch(searchValue)\n  };\n\n  return (\n    <main>\n      <SearchWraper>\n        <form onSubmit={handleSubmit}>\n          <SearchLabel>\n            <SearchField\n              name=\"search\"\n              type=\"text\"\n              autocomplete=\"off\"\n              autoFocus\n              placeholder=\"Search movies\"\n            />\n            <SearchBtn type=\"submit\">\n              <AiOutlineSearch style={{ width: '24px', height: '24px' }} />\n            </SearchBtn>\n          </SearchLabel>\n        </form>\n      </SearchWraper>\n      {error && <p>{error}</p>}\n      {status === 'responded' && (\n        <>\n          {moviesList.length > 0 && <MoviesList data={moviesList} prefix=\"\" />}\n        </>)}\n      {status === 'pending' && <Loader />}\n        <Suspense fallback={<Loader />}>\n          <Outlet />\n        </Suspense>\n    </main>\n  );\n};\n\nexport default MoviesPage;","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org';\n\nconst API_KEY = 'f341564f871ad54342c422dd44d9e8b4';\n\nconst addParams = abort => {\n  return {\n    signal: abort.signal,\n    params: { api_key: API_KEY },\n  };\n};\n\nexport const loadTrendList = async abort => {\n  return await axios.get('/3/trending/movie/week', addParams(abort));\n};\n\nexport const loadSearchList = async (search, abort) => {\n  return await axios.get(`3/search/movie`, {\n    signal: abort.signal,\n    params: { api_key: API_KEY, query: search },\n  });\n};\n\nexport const loadMovieFulInfo = async (id, abort) => {\n  return await axios.get(`3/movie/${id}`, addParams(abort));\n};\n\nexport const loadMovieCast = async (id, abort) => {\n  return await axios.get(`3/movie/${id}/credits`, addParams(abort));\n};\n\nexport const loadMovieReviews = async (id, abort) => {\n  return await axios.get(`3/movie/${id}/reviews`, addParams(abort));\n};"],"names":["setTimeoutInstance","Loader","_ref","pending","_useState","useState","_useState2","_slicedToArray","isExpired","setIsExpired","useEffect","clearTimeout","setTimeout","_jsx","Dna","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","List","styled","_templateObject","_taggedTemplateLiteral","MoviesList","data","prefix","location","useLocation","children","map","elem","Link","to","concat","id","state","from","title","name","SearchWraper","SearchLabel","_templateObject2","SearchField","_templateObject3","SearchBtn","_templateObject4","moviesList","setMoviesList","_useState3","_useState4","error","setError","abortController","AbortController","_useState5","_useState6","status","setStatus","fetch","_asyncToGenerator","_regeneratorRuntime","mark","_callee","query","result","wrap","_context","prev","next","loadSearchList","sent","results","t0","code","message","stop","_x","apply","arguments","_jsxs","onSubmit","event","preventDefault","searchValue","target","value","type","autocomplete","autoFocus","placeholder","AiOutlineSearch","style","_Fragment","length","Suspense","fallback","Outlet","axios","API_KEY","addParams","abort","signal","params","api_key","loadTrendList","abrupt","_ref2","_callee2","search","_context2","_x2","_x3","loadMovieFulInfo","_ref3","_callee3","_context3","_x4","_x5","loadMovieCast","_ref4","_callee4","_context4","_x6","_x7","loadMovieReviews","_ref5","_callee5","_context5","_x8","_x9"],"sourceRoot":""}