{"version":3,"file":"static/js/748.380e7435.chunk.js","mappings":"0MAEaA,E,QAAOC,EAAAA,GAASC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,wF,SCEhBC,EAAa,SAAHC,GAA0B,IAApBC,EAAID,EAAJC,KAAMC,EAAMF,EAANE,OAC3BC,GAAWC,EAAAA,EAAAA,MAEjB,MACE,CAAEH,KAAAA,KACAI,EAAAA,EAAAA,KAACV,EAAI,CAAAW,SACFL,EAAKM,KAAI,SAAAC,GAAI,OACZH,EAAAA,EAAAA,KAAA,MAAAC,UACED,EAAAA,EAAAA,KAACI,EAAAA,GAAI,CAACC,GAAE,GAAAC,OAAKT,GAAMS,OAAGH,EAAKI,IAAMC,MAAO,CAAEC,KAAMX,GAAWG,SACxDE,EAAKO,OAASP,EAAKQ,QAFfR,EAAKI,GAIT,KAKf,C,yKClBaK,EAAerB,EAAAA,EAAAA,IAAUC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,sFAOzBoB,EAActB,EAAAA,EAAAA,MAAYuB,IAAAA,GAAArB,EAAAA,EAAAA,GAAA,+NAe1BsB,EAAcxB,EAAAA,EAAAA,MAAYyB,IAAAA,GAAAvB,EAAAA,EAAAA,GAAA,+DAO1BwB,EAAY1B,EAAAA,EAAAA,OAAa2B,IAAAA,GAAAzB,EAAAA,EAAAA,GAAA,8E,6BC0CtC,EA5DmB,WACjB,IAAA0B,GAAoCC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAzCI,EAAUF,EAAA,GAAEG,EAAaH,EAAA,GAChCI,GAA0BL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA/BE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACtBG,GAAkCT,EAAAA,EAAAA,WAAS,GAAMU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAA1CE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GAC9BG,GAAsCb,EAAAA,EAAAA,UAAS,IAAGc,GAAAZ,EAAAA,EAAAA,GAAAW,EAAA,GAA3CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAClCG,GAAwCC,EAAAA,EAAAA,MAAiBC,GAAAjB,EAAAA,EAAAA,GAAAe,EAAA,GAAlDG,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GAE9BG,GAAQC,EAAAA,EAAAA,aAAW,eAAAhD,GAAAiD,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAC,SAAAC,EAAOC,GAAK,IAAAC,EAAA,OAAAJ,EAAAA,EAAAA,KAAAK,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAChB,OAAlBrB,GAAa,GAAKmB,EAAAC,KAAA,EAAAD,EAAAE,KAAA,GAEKC,EAAAA,EAAAA,IAAeN,GAAO,KAAD,EAApCC,EAAME,EAAAI,KACZ/B,EAAcyB,EAAOrD,KAAK4D,SAASL,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAM,GAAAN,EAAA,SAEtB,iBAAbA,EAAAM,GAAIC,MAA2B9B,EAASuB,EAAAM,GAAIE,SAAOR,EAAAM,IAAQ,QAE7DzB,GAAa,GAAM,yBAAAmB,EAAAS,OAAA,GAAAb,EAAA,kBACpB,gBAAAc,GAAA,OAAAlE,EAAAmE,MAAA,KAAAC,UAAA,EATsB,GASpB,IAeL,OAJAC,EAAAA,EAAAA,YAAU,WACRtB,EAAMF,EAAayB,IAAI,eACzB,GAAG,CAACvB,EAAOF,KAGT0B,EAAAA,EAAAA,MAAA,QAAAjE,SAAA,EACED,EAAAA,EAAAA,KAACY,EAAY,CAAAX,UACXD,EAAAA,EAAAA,KAAA,QAAMmE,SAhBS,SAAAC,GACnBA,EAAMC,iBACN5B,EAAgB,eAADnC,OAAgB6B,GACjC,EAamClC,UAC3BiE,EAAAA,EAAAA,MAACrD,EAAW,CAAAZ,SAAA,EACVD,EAAAA,EAAAA,KAACe,EAAW,CACVJ,KAAK,SACL2D,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,gBACZC,SAnBS,SAAHC,GAAoB,IAAdC,EAAMD,EAANC,OACtBxC,EAAewC,EAAOC,MACxB,EAkBYA,MAAO1C,KAETnC,EAAAA,EAAAA,KAACiB,EAAS,CAACqD,KAAK,SAAQrE,UACtBD,EAAAA,EAAAA,KAAC8E,EAAAA,IAAe,CAACC,MAAO,CAAEC,MAAO,OAAQC,OAAQ,mBAKxDtD,IAAS3B,EAAAA,EAAAA,KAAA,KAAAC,SAAI0B,IACbI,GAAY/B,EAAAA,EAAAA,KAACkF,EAAAA,EAAM,KAClBlF,EAAAA,EAAAA,KAAAmF,EAAAA,SAAA,CAAAlF,SACGsB,EAAW6D,OAAS,IAAKpF,EAAAA,EAAAA,KAACN,EAAAA,EAAU,CAACE,KAAM2B,EAAY1B,OAAO,SAIzE,C,0LCrEAwF,EAAAA,EAAAA,SAAAA,QAAyB,6BAEzB,IAAMC,EAAU,mCAEVC,EAAY,SAAAC,GAChB,MAAO,CACLC,OAAQD,EAAMC,OACdC,OAAQ,CAAEC,QAASL,GAEvB,EAEaM,EAAa,eAAAjG,GAAAiD,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,EAAMyC,GAAK,OAAA3C,EAAAA,EAAAA,KAAAK,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACzBgC,EAAAA,EAAAA,IAAU,yBAA0BE,EAAUC,IAAQ,KAAD,SAAArC,EAAA0C,OAAA,SAAA1C,EAAAI,MAAA,wBAAAJ,EAAAS,OAAA,GAAAb,EAAA,KACnE,gBAFyBc,GAAA,OAAAlE,EAAAmE,MAAA,KAAAC,UAAA,KAIbT,EAAc,eAAAqB,GAAA/B,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAgD,EAAOC,GAAM,OAAAlD,EAAAA,EAAAA,KAAAK,MAAA,SAAA8C,GAAA,cAAAA,EAAA5C,KAAA4C,EAAA3C,MAAA,cAAA2C,EAAA3C,KAAA,EAC5BgC,EAAAA,EAAAA,IAAU,iBAAkB,CACvCK,OAAQ,CAAEC,QAASL,EAAStC,MAAO+C,KAClC,KAAD,SAAAC,EAAAH,OAAA,SAAAG,EAAAzC,MAAA,wBAAAyC,EAAApC,OAAA,GAAAkC,EAAA,KACH,gBAJ0BG,GAAA,OAAAtB,EAAAb,MAAA,KAAAC,UAAA,KAMdmC,EAAgB,eAAAC,GAAAvD,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAsD,EAAO7F,EAAIiF,GAAK,OAAA3C,EAAAA,EAAAA,KAAAK,MAAA,SAAAmD,GAAA,cAAAA,EAAAjD,KAAAiD,EAAAhD,MAAA,cAAAgD,EAAAhD,KAAA,EACjCgC,EAAAA,EAAAA,IAAU,WAAD/E,OAAYC,GAAMgF,EAAUC,IAAQ,KAAD,SAAAa,EAAAR,OAAA,SAAAQ,EAAA9C,MAAA,wBAAA8C,EAAAzC,OAAA,GAAAwC,EAAA,KAC1D,gBAF4BE,EAAAC,GAAA,OAAAJ,EAAArC,MAAA,KAAAC,UAAA,KAIhByC,EAAa,eAAAC,GAAA7D,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAA4D,EAAOnG,EAAIiF,GAAK,OAAA3C,EAAAA,EAAAA,KAAAK,MAAA,SAAAyD,GAAA,cAAAA,EAAAvD,KAAAuD,EAAAtD,MAAA,cAAAsD,EAAAtD,KAAA,EAC9BgC,EAAAA,EAAAA,IAAU,WAAD/E,OAAYC,EAAE,YAAYgF,EAAUC,IAAQ,KAAD,SAAAmB,EAAAd,OAAA,SAAAc,EAAApD,MAAA,wBAAAoD,EAAA/C,OAAA,GAAA8C,EAAA,KAClE,gBAFyBE,EAAAC,GAAA,OAAAJ,EAAA3C,MAAA,KAAAC,UAAA,KAIb+C,EAAgB,eAAAC,GAAAnE,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAkE,EAAOzG,EAAIiF,GAAK,OAAA3C,EAAAA,EAAAA,KAAAK,MAAA,SAAA+D,GAAA,cAAAA,EAAA7D,KAAA6D,EAAA5D,MAAA,cAAA4D,EAAA5D,KAAA,EACjCgC,EAAAA,EAAAA,IAAU,WAAD/E,OAAYC,EAAE,YAAYgF,EAAUC,IAAQ,KAAD,SAAAyB,EAAApB,OAAA,SAAAoB,EAAA1D,MAAA,wBAAA0D,EAAArD,OAAA,GAAAoD,EAAA,KAClE,gBAF4BE,EAAAC,GAAA,OAAAJ,EAAAjD,MAAA,KAAAC,UAAA,I","sources":["components/MoviesList/MoviesList.styled.js","components/MoviesList/MoviesList.jsx","pages/MoviesPage/MoviesPage.styled.js","pages/MoviesPage/MoviesPage.jsx","services/tmdb-api.js"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const List = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  font-size: 16px;\n`;","import { Link, useLocation } from 'react-router-dom';\nimport { List } from './MoviesList.styled';\nimport PropTypes from 'prop-types';\n\nexport const MoviesList = ({ data, prefix }) => {\n  const location = useLocation();\n\n  return (\n    { data } && (\n      <List>\n        {data.map(elem => (\n          <li key={elem.id}>\n            <Link to={`${prefix}${elem.id}`} state={{ from: location }}>\n              {elem.title || elem.name}\n            </Link>\n          </li>\n        ))}\n      </List>\n    )\n  );\n};\n\nMoviesList.propTypes = {\n  data: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};","import styled from '@emotion/styled';\n\nexport const SearchWraper = styled.div`\n  padding: 8px;\n  margin-bottom: 8px;\n\n  border-bottom: 1px solid grey;\n`;\n\nexport const SearchLabel = styled.label`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 8px;\n\n  width: 350px;\n\n  padding: 8px 16px 8px 8px;\n  font-size: 16px;\n\n  border: 1px solid grey;\n  border-radius: 4px;\n`;\n\nexport const SearchField = styled.input`\n  border: none;\n  outline: none;\n\n  width: 100%;\n`;\n\nexport const SearchBtn = styled.button`\n  border: 0;\n  background-color: transparent;\n  cursor: pointer;\n`;","import { useState, useEffect, useCallback } from 'react';\nimport { AiOutlineSearch } from 'react-icons/ai';\nimport { useSearchParams } from 'react-router-dom';\nimport { Loader } from 'components/Loader';\nimport {\n  SearchField,\n  SearchLabel,\n  SearchWraper,\n  SearchBtn,\n} from './MoviesPage.styled';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\nimport { loadSearchList } from 'services/tmdb-api';\n\nconst MoviesPage = () => {\n  const [moviesList, setMoviesList] = useState([]);\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchValue, setSearchValue] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const fetch = useCallback(async (query) => {\n      setIsLoading(true)\n      try {\n        const result = await loadSearchList(query);\n        setMoviesList(result.data.results);\n      } catch (err) {\n        err.code !== 'ERR_CANCELED' && setError(err.message || err)\n      }\n      setIsLoading(false)\n    }, [])\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    setSearchParams(`searchValue=${searchValue}`);\n  };\n\n  const handleChange = ({ target }) => {\n    setSearchValue(target.value)\n  }\n\n  useEffect(() => {\n    fetch(searchParams.get('searchValue'));\n  }, [fetch, searchParams])\n  \n  return (\n    <main>\n      <SearchWraper>\n        <form onSubmit={handleSubmit}>\n          <SearchLabel>\n            <SearchField\n              name=\"search\"\n              type=\"text\"\n              autocomplete=\"off\"\n              autoFocus\n              placeholder=\"Search movies\"\n              onChange={handleChange}\n              value={searchValue}\n            />\n            <SearchBtn type=\"submit\">\n              <AiOutlineSearch style={{ width: '24px', height: '24px' }} />\n            </SearchBtn>\n          </SearchLabel>\n        </form>\n      </SearchWraper>\n      {error && <p>{error}</p>}\n      {isLoading ? <Loader /> : (\n        <>\n          {moviesList.length > 0 && <MoviesList data={moviesList} prefix=\"\" />}\n        </>)}\n    </main>\n  );\n};\n\nexport default MoviesPage;","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org';\n\nconst API_KEY = 'f341564f871ad54342c422dd44d9e8b4';\n\nconst addParams = abort => {\n  return {\n    signal: abort.signal,\n    params: { api_key: API_KEY },\n  };\n};\n\nexport const loadTrendList = async abort => {\n  return await axios.get('/3/trending/movie/week', addParams(abort));\n};\n\nexport const loadSearchList = async (search) => {\n  return await axios.get(`3/search/movie`, {\n    params: { api_key: API_KEY, query: search },\n  });\n};\n\nexport const loadMovieFulInfo = async (id, abort) => {\n  return await axios.get(`3/movie/${id}`, addParams(abort));\n};\n\nexport const loadMovieCast = async (id, abort) => {\n  return await axios.get(`3/movie/${id}/credits`, addParams(abort));\n};\n\nexport const loadMovieReviews = async (id, abort) => {\n  return await axios.get(`3/movie/${id}/reviews`, addParams(abort));\n};"],"names":["List","styled","_templateObject","_taggedTemplateLiteral","MoviesList","_ref","data","prefix","location","useLocation","_jsx","children","map","elem","Link","to","concat","id","state","from","title","name","SearchWraper","SearchLabel","_templateObject2","SearchField","_templateObject3","SearchBtn","_templateObject4","_useState","useState","_useState2","_slicedToArray","moviesList","setMoviesList","_useState3","_useState4","error","setError","_useState5","_useState6","isLoading","setIsLoading","_useState7","_useState8","searchValue","setSearchValue","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","fetch","useCallback","_asyncToGenerator","_regeneratorRuntime","mark","_callee","query","result","wrap","_context","prev","next","loadSearchList","sent","results","t0","code","message","stop","_x","apply","arguments","useEffect","get","_jsxs","onSubmit","event","preventDefault","type","autocomplete","autoFocus","placeholder","onChange","_ref2","target","value","AiOutlineSearch","style","width","height","Loader","_Fragment","length","axios","API_KEY","addParams","abort","signal","params","api_key","loadTrendList","abrupt","_callee2","search","_context2","_x2","loadMovieFulInfo","_ref3","_callee3","_context3","_x3","_x4","loadMovieCast","_ref4","_callee4","_context4","_x5","_x6","loadMovieReviews","_ref5","_callee5","_context5","_x7","_x8"],"sourceRoot":""}