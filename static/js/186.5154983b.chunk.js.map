{"version":3,"file":"static/js/186.5154983b.chunk.js","mappings":"2KAIIA,E,uCAGSC,EAAS,SAAHC,GAAqB,IAAfC,EAAOD,EAAPC,QACvBC,GAAkCC,EAAAA,EAAAA,WAAS,GAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAzCI,EAASF,EAAA,GAAEG,EAAYH,EAAA,GAe9B,IAbAI,EAAAA,EAAAA,YAAU,WACJP,IACFM,GAAa,GAETT,GACFW,aAAaX,GAEfA,EAAqBY,YAAW,WAC9BH,GAAa,EACf,GAhBQ,KAkBZ,GAAG,CAACN,KAECK,EACH,OACIK,EAAAA,EAAAA,KAACC,EAAAA,GAAG,CACAC,SAAS,EACTC,OAAO,MACPC,MAAM,MACNC,UAAU,cACVC,aAAc,CAAC,EACfC,aAAa,eAIzB,C,gHCuBA,UApDgB,WACd,IAAAhB,GAAwBC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA7BiB,EAAIf,EAAA,GAAEgB,EAAOhB,EAAA,GACZiB,GAAOC,EAAAA,EAAAA,MAAPD,GACRE,GAA0BpB,EAAAA,EAAAA,UAAS,IAAGqB,GAAAnB,EAAAA,EAAAA,GAAAkB,EAAA,GAA/BE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACtBG,GAA4BxB,EAAAA,EAAAA,UAAS,QAAOyB,GAAAvB,EAAAA,EAAAA,GAAAsB,EAAA,GAArCE,EAAMD,EAAA,GAAEE,EAASF,EAAA,GAuBxB,OArBApB,EAAAA,EAAAA,YAAU,WACR,IAAMuB,EAAkB,IAAIC,gBAER,SAAAC,IASnB,OATmBA,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAApB,SAAAC,IAAA,IAAAC,EAAA,OAAAH,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEyB,OAFzBF,EAAAC,KAAA,EAEIX,EAAU,WAAWU,EAAAE,KAAA,GACAC,EAAAA,EAAAA,IAAiBtB,EAAIU,GAAiB,KAAD,EAApDO,EAAME,EAAAI,KACZxB,EAAQkB,EAAOnB,KAAK0B,SACpBf,EAAU,aAAaU,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAM,GAAAN,EAAA,SAEV,iBAAbA,EAAAM,GAAIC,MAA2BrB,EAASc,EAAAM,GAAIE,SAAOR,EAAAM,IAAQ,yBAAAN,EAAAS,OAAA,GAAAZ,EAAA,mBAE9Da,MAAA,KAAAC,UAAA,CAID,OAf8C,WAE1BlB,EAAAiB,MAAC,KAADC,UAAA,CAWpBC,GAEO,WACLrB,EAAgBsB,OAClB,CACF,GAAG,CAAChC,KAGFiC,EAAAA,EAAAA,MAACC,EAAAA,SAAQ,CAAAC,SAAA,CACN/B,IAASd,EAAAA,EAAAA,KAAA,KAAA6C,SAAI/B,IACF,cAAXI,IACDlB,EAAAA,EAAAA,KAAA8C,EAAAA,SAAA,CAAAD,SACCrC,EAAKuC,OAAS,GACb/C,EAAAA,EAAAA,KAAA,MAAA6C,SACGrC,EAAKwC,KAAI,SAAAC,GAAI,OACZN,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACE7C,EAAAA,EAAAA,KAAA,KAAA6C,SAAA,WAAAK,OAAeD,EAAKE,WACpBnD,EAAAA,EAAAA,KAAA,KAAA6C,SAAII,EAAKG,YAAY,GAAAF,OAFXD,EAAKvC,IAGZ,OAITV,EAAAA,EAAAA,KAAA,KAAA6C,SAAG,kDAEO,YAAX3B,IAAwBlB,EAAAA,EAAAA,KAACZ,EAAAA,EAAM,KAC5BY,EAAAA,EAAAA,KAACqD,EAAAA,SAAQ,CAACC,UAAUtD,EAAAA,EAAAA,KAACZ,EAAAA,EAAM,IAAIyD,UAC7B7C,EAAAA,EAAAA,KAACuD,EAAAA,GAAM,QAInB,C,0LCtDAC,EAAAA,EAAAA,SAAAA,QAAyB,6BAEzB,IAAMC,EAAU,mCAEVC,EAAY,SAAAhB,GAChB,MAAO,CACLiB,OAAQjB,EAAMiB,OACdC,OAAQ,CAAEC,QAASJ,GAEvB,EAEaK,EAAa,eAAAzE,GAAAkC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,EAAMgB,GAAK,OAAAlB,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACzByB,EAAAA,EAAAA,IAAU,yBAA0BE,EAAUhB,IAAQ,KAAD,SAAAb,EAAAkC,OAAA,SAAAlC,EAAAI,MAAA,wBAAAJ,EAAAS,OAAA,GAAAZ,EAAA,KACnE,gBAFyBsC,GAAA,OAAA3E,EAAAkD,MAAA,KAAAC,UAAA,KAIbyB,EAAc,eAAAC,GAAA3C,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAA0C,EAAOC,EAAQ1B,GAAK,OAAAlB,EAAAA,EAAAA,KAAAI,MAAA,SAAAyC,GAAA,cAAAA,EAAAvC,KAAAuC,EAAAtC,MAAA,cAAAsC,EAAAtC,KAAA,EACnCyB,EAAAA,EAAAA,IAAU,iBAAkB,CACvCG,OAAQjB,EAAMiB,OACdC,OAAQ,CAAEC,QAASJ,EAASa,MAAOF,KAClC,KAAD,SAAAC,EAAAN,OAAA,SAAAM,EAAApC,MAAA,wBAAAoC,EAAA/B,OAAA,GAAA6B,EAAA,KACH,gBAL0BI,EAAAC,GAAA,OAAAN,EAAA3B,MAAA,KAAAC,UAAA,KAOdiC,EAAgB,eAAAC,GAAAnD,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAkD,EAAOjE,EAAIgC,GAAK,OAAAlB,EAAAA,EAAAA,KAAAI,MAAA,SAAAgD,GAAA,cAAAA,EAAA9C,KAAA8C,EAAA7C,MAAA,cAAA6C,EAAA7C,KAAA,EACjCyB,EAAAA,EAAAA,IAAU,WAADN,OAAYxC,GAAMgD,EAAUhB,IAAQ,KAAD,SAAAkC,EAAAb,OAAA,SAAAa,EAAA3C,MAAA,wBAAA2C,EAAAtC,OAAA,GAAAqC,EAAA,KAC1D,gBAF4BE,EAAAC,GAAA,OAAAJ,EAAAnC,MAAA,KAAAC,UAAA,KAIhBuC,EAAa,eAAAC,GAAAzD,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAwD,EAAOvE,EAAIgC,GAAK,OAAAlB,EAAAA,EAAAA,KAAAI,MAAA,SAAAsD,GAAA,cAAAA,EAAApD,KAAAoD,EAAAnD,MAAA,cAAAmD,EAAAnD,KAAA,EAC9ByB,EAAAA,EAAAA,IAAU,WAADN,OAAYxC,EAAE,YAAYgD,EAAUhB,IAAQ,KAAD,SAAAwC,EAAAnB,OAAA,SAAAmB,EAAAjD,MAAA,wBAAAiD,EAAA5C,OAAA,GAAA2C,EAAA,KAClE,gBAFyBE,EAAAC,GAAA,OAAAJ,EAAAzC,MAAA,KAAAC,UAAA,KAIbR,EAAgB,eAAAqD,GAAA9D,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAA6D,EAAO5E,EAAIgC,GAAK,OAAAlB,EAAAA,EAAAA,KAAAI,MAAA,SAAA2D,GAAA,cAAAA,EAAAzD,KAAAyD,EAAAxD,MAAA,cAAAwD,EAAAxD,KAAA,EACjCyB,EAAAA,EAAAA,IAAU,WAADN,OAAYxC,EAAE,YAAYgD,EAAUhB,IAAQ,KAAD,SAAA6C,EAAAxB,OAAA,SAAAwB,EAAAtD,MAAA,wBAAAsD,EAAAjD,OAAA,GAAAgD,EAAA,KAClE,gBAF4BE,EAAAC,GAAA,OAAAJ,EAAA9C,MAAA,KAAAC,UAAA,I","sources":["components/Loader.jsx","components/Reviews/Reviews.jsx","services/tmdb-api.js"],"sourcesContent":["import { Dna } from 'react-loader-spinner';\nimport { useState, useEffect } from 'react';\n\nconst delay = 2000;\nlet setTimeoutInstance;\n  \n\nexport const Loader = ({ pending }) => {\n  const [isExpired, setIsExpired] = useState(true);\n\n  useEffect(() => {\n    if (pending) {\n      setIsExpired(true);\n\n      if (setTimeoutInstance) {\n        clearTimeout(setTimeoutInstance);\n      }\n      setTimeoutInstance = setTimeout(() => {\n        setIsExpired(false);\n      }, delay);\n    }\n  }, [pending]);\n\n  if (!isExpired) {\n    return (\n        <Dna\n            visible={true}\n            height=\"150\"\n            width=\"150\"\n            ariaLabel=\"dna-loading\"\n            wrapperStyle={{}}\n            wrapperClass=\"dna-wrapper\"\n        />\n    );\n  }\n};","import { Suspense, useState, useEffect } from 'react';\nimport { Outlet, useParams } from 'react-router-dom';\nimport { loadMovieReviews } from 'services/tmdb-api';\nimport { Fragment } from 'react';\nimport { Loader } from 'components/Loader';\n\nconst Reviews = () => {\n  const [data, setData] = useState([]);\n  const { id } = useParams();\n  const [error, setError] = useState('');\n  const [status, setStatus] = useState('idle');\n\n  useEffect(() => {\n    const abortController = new AbortController();\n\n    async function fetch() {\n      try {\n        setStatus('pending');\n        const result = await loadMovieReviews(id, abortController);\n        setData(result.data.results);\n        setStatus('responded');\n      } catch (err) {\n        err.code !== 'ERR_CANCELED' && setError(err.message || err)\n      }\n    }\n\n    fetch();\n\n    return () => {\n      abortController.abort();\n    };\n  }, [id]);\n\n  return (\n    <Fragment>\n      {error && <p>{error}</p>}\n      {status === 'responded' && (\n      <>\n      {data.length > 0 ? (\n        <ul>\n          {data.map(elem => (\n            <li key={`${elem.id}`}>\n              <p>{`Author: ${elem.author}`}</p>\n              <p>{elem.content}</p>\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <p>We don't have any reviews for this movie :(</p>\n      )}</>)}\n      {status === 'pending' && <Loader />}\n          <Suspense fallback={<Loader />}>\n            <Outlet />\n          </Suspense>\n    </Fragment>\n  );\n};\n\nexport default Reviews;","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org';\n\nconst API_KEY = 'f341564f871ad54342c422dd44d9e8b4';\n\nconst addParams = abort => {\n  return {\n    signal: abort.signal,\n    params: { api_key: API_KEY },\n  };\n};\n\nexport const loadTrendList = async abort => {\n  return await axios.get('/3/trending/movie/week', addParams(abort));\n};\n\nexport const loadSearchList = async (search, abort) => {\n  return await axios.get(`3/search/movie`, {\n    signal: abort.signal,\n    params: { api_key: API_KEY, query: search },\n  });\n};\n\nexport const loadMovieFulInfo = async (id, abort) => {\n  return await axios.get(`3/movie/${id}`, addParams(abort));\n};\n\nexport const loadMovieCast = async (id, abort) => {\n  return await axios.get(`3/movie/${id}/credits`, addParams(abort));\n};\n\nexport const loadMovieReviews = async (id, abort) => {\n  return await axios.get(`3/movie/${id}/reviews`, addParams(abort));\n};"],"names":["setTimeoutInstance","Loader","_ref","pending","_useState","useState","_useState2","_slicedToArray","isExpired","setIsExpired","useEffect","clearTimeout","setTimeout","_jsx","Dna","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","data","setData","id","useParams","_useState3","_useState4","error","setError","_useState5","_useState6","status","setStatus","abortController","AbortController","_fetch","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_context","prev","next","loadMovieReviews","sent","results","t0","code","message","stop","apply","arguments","fetch","abort","_jsxs","Fragment","children","_Fragment","length","map","elem","concat","author","content","Suspense","fallback","Outlet","axios","API_KEY","addParams","signal","params","api_key","loadTrendList","abrupt","_x","loadSearchList","_ref2","_callee2","search","_context2","query","_x2","_x3","loadMovieFulInfo","_ref3","_callee3","_context3","_x4","_x5","loadMovieCast","_ref4","_callee4","_context4","_x6","_x7","_ref5","_callee5","_context5","_x8","_x9"],"sourceRoot":""}