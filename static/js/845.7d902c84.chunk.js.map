{"version":3,"file":"static/js/845.7d902c84.chunk.js","mappings":"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","sources":["pages/MovieDetailsPage/MovieDetailsPage.styled.js","pages/MovieDetailsPage/MovieDetailsPage.jsx","services/tmdb-api.js"],"sourcesContent":["import { Link } from 'react-router-dom';\nimport styled from '@emotion/styled';\n\nexport const WraperInfo = styled.div`\n  display: flex;\n  gap: 16px;\n  color: #fff;\n  padding: 8px 0;\n  border-bottom: 1px solid #F5C518;\n`;\n\nexport const Wraper = styled.div`\n  border-bottom: 1px solid #F5C518;\n`;\n\nexport const Title = styled.p`\n  font-size: 16px;\n  font-weight: 500;\n`;\n\nexport const WraperBtn = styled.div`\n  padding: 8px 0;\n  border-bottom: 1px solid #F5C518;\n`;\n\nexport const GoBack = styled(Link)`\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  background-color: white;\n  color: black;\n  font-weight: 600;\n  padding: 4px 16px;\n  width: 150px;\n  text-decoration: none;\n  border: 1px solid grey;\n  border-radius: 4px;\n`;","import { Suspense, useState, useEffect } from 'react';\nimport { AiOutlineArrowLeft } from 'react-icons/ai';\nimport { Outlet, Link, useParams, useLocation } from 'react-router-dom';\nimport { Loader } from 'components/Loader';\nimport { loadMovieFulInfo } from 'services/tmdb-api';\nimport {\n  Title,\n  Wraper,\n  WraperInfo,\n  GoBack,\n  WraperBtn,\n} from '../MovieDetailsPage/MovieDetailsPage.styled';\n\nconst MovieDetailsPage = () => {\n  const { id } = useParams();\n  const [data, setData] = useState({});\n  const location = useLocation();\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const abortController = new AbortController();\n    async function fetch() {\n      setIsLoading(true)\n      try {\n        const result = await loadMovieFulInfo(id, abortController);\n        setData(result.data);\n      } catch (err) {\n        err.code !== 'ERR_CANCELED' && setError(err.message || err);\n      }\n      setIsLoading(false)\n    }\n\n    fetch();\n\n    return () => {\n      abortController.abort();\n    };\n  }, [id]);\n\n  const score = Math.round((data.popularity / data.vote_count) * 100);\n  \n  return (\n    <main>\n      {error && <p>{error}</p>}\n      {isLoading ? <Loader /> :\n        <>\n        {Object.keys(data).length > 0 && (\n        <div>\n          <WraperBtn>\n            <GoBack to={location.state?.from ?? '/'}>\n              <AiOutlineArrowLeft />\n              Go back\n            </GoBack>\n          </WraperBtn>\n          <WraperInfo>\n              <img\n                src={\n                  data.poster_path\n                    ? `https://image.tmdb.org/t/p/w400${data.poster_path}`\n                    : 'https://via.placeholder.com/320x480'\n                }\n                alt={data.original_title}\n              />\n            <div>\n              <h2>{data.original_title}</h2>\n              <p>{`User Score: ${score}%`}</p>\n              <h3>Overview</h3>\n              <p>{data.overview}</p>\n              <h3>Genres</h3>\n              <p>{data.genres.map(({ name }) => name).join(', ')}</p>\n            </div>\n          </WraperInfo>\n          <Wraper>\n            <Title>Additional information</Title>\n            <ul>\n              <li>\n                <Link\n                  to=\"cast\"\n                  state={{ from: location?.state?.from ?? location }}\n                >\n                  Cast\n                </Link>\n              </li>\n              <li>\n                <Link\n                  to=\"reviews\"\n                  state={{ from: location?.state?.from ?? location }}\n                >\n                  Reviews\n                </Link>\n              </li>\n            </ul>\n          </Wraper>\n          </div>)}</>}\n          <Suspense fallback={<Loader />}>\n            <Outlet />\n          </Suspense>\n    </main>\n  );\n};\n\nexport default MovieDetailsPage;","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org';\n\nconst API_KEY = 'f341564f871ad54342c422dd44d9e8b4';\n\nconst addParams = abort => {\n  return {\n    signal: abort.signal,\n    params: { api_key: API_KEY },\n  };\n};\n\nexport const loadTrendList = async abort => {\n  return await axios.get('/3/trending/movie/week', addParams(abort));\n};\n\nexport const loadSearchList = async (search) => {\n  return await axios.get(`3/search/movie`, {\n    params: { api_key: API_KEY, query: search },\n  });\n};\n\nexport const loadMovieFulInfo = async (id, abort) => {\n  return await axios.get(`3/movie/${id}`, addParams(abort));\n};\n\nexport const loadMovieCast = async (id, abort) => {\n  return await axios.get(`3/movie/${id}/credits`, addParams(abort));\n};\n\nexport const loadMovieReviews = async (id, abort) => {\n  return await axios.get(`3/movie/${id}/reviews`, addParams(abort));\n};"],"names":["WraperInfo","styled","_templateObject","_taggedTemplateLiteral","Wraper","_templateObject2","Title","_templateObject3","WraperBtn","_templateObject4","GoBack","Link","_templateObject5","_location$state$from","_location$state","_location$state$from2","_location$state2","_location$state$from3","_location$state3","id","useParams","_useState","useState","_useState2","_slicedToArray","data","setData","location","useLocation","_useState3","_useState4","error","setError","_useState5","_useState6","isLoading","setIsLoading","useEffect","abortController","AbortController","_fetch","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_context","prev","next","loadMovieFulInfo","sent","t0","code","message","stop","apply","arguments","fetch","abort","score","Math","round","popularity","vote_count","_jsxs","children","_jsx","Loader","_Fragment","Object","keys","length","to","state","from","AiOutlineArrowLeft","src","poster_path","concat","alt","original_title","overview","genres","map","_ref","name","join","Suspense","fallback","Outlet","axios","API_KEY","addParams","signal","params","api_key","loadTrendList","abrupt","_x","loadSearchList","_ref2","_callee2","search","_context2","query","_x2","_ref3","_callee3","_context3","_x3","_x4","loadMovieCast","_ref4","_callee4","_context4","_x5","_x6","loadMovieReviews","_ref5","_callee5","_context5","_x7","_x8"],"sourceRoot":""}