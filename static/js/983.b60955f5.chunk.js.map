{"version":3,"file":"static/js/983.b60955f5.chunk.js","mappings":"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","sources":["components/Loader.jsx","components/MoviesList/MoviesList.styled.js","components/MoviesList/MoviesList.jsx","pages/HomePage.jsx","services/tmdb-api.js"],"sourcesContent":["import { Dna } from 'react-loader-spinner';\nimport { useState, useEffect } from 'react';\n\nconst delay = 2000;\nlet setTimeoutInstance;\n  \n\nexport const Loader = ({ pending }) => {\n  const [isExpired, setIsExpired] = useState(true);\n\n  useEffect(() => {\n    if (pending) {\n      setIsExpired(true);\n\n      if (setTimeoutInstance) {\n        clearTimeout(setTimeoutInstance);\n      }\n      setTimeoutInstance = setTimeout(() => {\n        setIsExpired(false);\n      }, delay);\n    }\n  }, [pending]);\n\n  if (!isExpired) {\n    return (\n        <Dna\n            visible={true}\n            height=\"150\"\n            width=\"150\"\n            ariaLabel=\"dna-loading\"\n            wrapperStyle={{}}\n            wrapperClass=\"dna-wrapper\"\n        />\n    );\n  }\n};","import styled from '@emotion/styled';\n\nexport const List = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  font-size: 16px;\n`;","import { Link, useLocation } from 'react-router-dom';\nimport { List } from './MoviesList.styled';\nimport PropTypes from 'prop-types';\n\nexport const MoviesList = ({ data, prefix }) => {\n  const location = useLocation();\n\n  return (\n    { data } && (\n      <List>\n        {data.map(elem => (\n          <li key={elem.id}>\n            <Link to={`${prefix}${elem.id}`} state={{ from: location }}>\n              {elem.title || elem.name}\n            </Link>\n          </li>\n        ))}\n      </List>\n    )\n  );\n};\n\nMoviesList.propTypes = {\n  data: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};","import { Suspense, useState, useEffect } from 'react';\nimport { loadTrendList } from 'services/tmdb-api';\nimport { MoviesList } from '../components/MoviesList/MoviesList';\nimport { Loader } from 'components/Loader';\nimport { Outlet } from 'react-router-dom';\n\nconst HomePage = () => {\n  const [moviesList, setMoviesList] = useState([]);\n  const [error, setError] = useState('');\n  const [status, setStatus] = useState('idle');\n\n\n  useEffect(() => {\n    const abortController = new AbortController();\n\n    async function fetch() {\n      try {\n        setStatus('pending');\n        const result = await loadTrendList(abortController);\n        setMoviesList(result.data.results);\n        setStatus('responded');\n      } catch (err) {\n        err.code !== 'ERR_CANCELED' && setError(err.message || err)\n      }\n    }\n\n    fetch();\n\n    return () => {\n      abortController.abort();\n    };\n  }, []);\n\n  return (\n    <main>\n      <h2>Trending today</h2>\n      {error && <p>{error}</p>}\n      {status === 'responded' && (\n        <>\n          {moviesList.length > 0 && (\n            <MoviesList data={moviesList} prefix=\"movies/\" />\n          )}\n        </>)}\n      {status === 'pending' && <Loader />}\n          <Suspense fallback={<Loader />}>\n            <Outlet />\n          </Suspense>\n    </main>\n  );\n};\n\nexport default HomePage;","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org';\n\nconst API_KEY = 'f341564f871ad54342c422dd44d9e8b4';\n\nconst addParams = abort => {\n  return {\n    signal: abort.signal,\n    params: { api_key: API_KEY },\n  };\n};\n\nexport const loadTrendList = async abort => {\n  return await axios.get('/3/trending/movie/week', addParams(abort));\n};\n\nexport const loadSearchList = async (search, abort) => {\n  return await axios.get(`3/search/movie`, {\n    signal: abort.signal,\n    params: { api_key: API_KEY, query: search },\n  });\n};\n\nexport const loadMovieFulInfo = async (id, abort) => {\n  return await axios.get(`3/movie/${id}`, addParams(abort));\n};\n\nexport const loadMovieCast = async (id, abort) => {\n  return await axios.get(`3/movie/${id}/credits`, addParams(abort));\n};\n\nexport const loadMovieReviews = async (id, abort) => {\n  return await axios.get(`3/movie/${id}/reviews`, addParams(abort));\n};"],"names":["setTimeoutInstance","Loader","_ref","pending","_useState","useState","_useState2","_slicedToArray","isExpired","setIsExpired","useEffect","clearTimeout","setTimeout","_jsx","Dna","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","List","styled","_templateObject","_taggedTemplateLiteral","MoviesList","data","prefix","location","useLocation","children","map","elem","Link","to","concat","id","state","from","title","name","moviesList","setMoviesList","_useState3","_useState4","error","setError","_useState5","_useState6","status","setStatus","abortController","AbortController","_fetch","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_context","prev","next","loadTrendList","sent","results","t0","code","message","stop","apply","arguments","fetch","abort","_jsxs","_Fragment","length","Suspense","fallback","Outlet","axios","API_KEY","addParams","signal","params","api_key","abrupt","_x","loadSearchList","_ref2","_callee2","search","_context2","query","_x2","_x3","loadMovieFulInfo","_ref3","_callee3","_context3","_x4","_x5","loadMovieCast","_ref4","_callee4","_context4","_x6","_x7","loadMovieReviews","_ref5","_callee5","_context5","_x8","_x9"],"sourceRoot":""}