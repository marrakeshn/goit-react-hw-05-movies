{"version":3,"file":"static/js/748.0260237c.chunk.js","mappings":"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","sources":["components/MoviesList/MoviesList.styled.js","components/MoviesList/MoviesList.jsx","pages/MoviesPage/MoviesPage.styled.js","pages/MoviesPage/MoviesPage.jsx","services/tmdb-api.js"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const List = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  font-size: 16px;\n`;","import { Link, useLocation } from 'react-router-dom';\nimport { List } from './MoviesList.styled';\nimport PropTypes from 'prop-types';\n\nexport const MoviesList = ({ data, prefix }) => {\n  const location = useLocation();\n\n  return (\n    { data } && (\n      <List>\n        {data.map(elem => (\n          <li key={elem.id}>\n            <Link to={`${prefix}${elem.id}`} state={{ from: location }}>\n              {elem.title || elem.name}\n            </Link>\n          </li>\n        ))}\n      </List>\n    )\n  );\n};\n\nMoviesList.propTypes = {\n  data: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};","import styled from '@emotion/styled';\n\nexport const SearchWraper = styled.div`\n  padding: 8px;\n  margin-bottom: 8px;\n\n  border-bottom: 1px solid grey;\n`;\n\nexport const SearchLabel = styled.label`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 8px;\n\n  width: 350px;\n\n  padding: 8px 16px 8px 8px;\n  font-size: 16px;\n\n  border: 1px solid grey;\n  border-radius: 4px;\n`;\n\nexport const SearchField = styled.input`\n  border: none;\n  outline: none;\n\n  width: 100%;\n`;\n\nexport const SearchBtn = styled.button`\n  border: 0;\n  background-color: transparent;\n  cursor: pointer;\n`;","import { useState } from 'react';\nimport { AiOutlineSearch } from 'react-icons/ai';\nimport { Loader } from 'components/Loader';\nimport {\n  SearchField,\n  SearchLabel,\n  SearchWraper,\n  SearchBtn,\n} from './MoviesPage.styled';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\nimport { loadSearchList } from 'services/tmdb-api';\n\nconst MoviesPage = () => {\n  const [moviesList, setMoviesList] = useState([]);\n  const [error, setError] = useState('');\n  const abortController = new AbortController();\n  const [isLoading, setIsLoading] = useState(false);\n\n  const fetch = async (query) => {\n      setIsLoading(true)\n      try {\n        const result = await loadSearchList(query, abortController);\n        setMoviesList(result.data.results);\n      } catch (err) {\n        err.code !== 'ERR_CANCELED' && setError(err.message || err)\n      }\n      setIsLoading(false)\n    }\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const searchValue = event.target[0].value;\n    fetch(searchValue)\n  };\n\n  return (\n    <main>\n      <SearchWraper>\n        <form onSubmit={handleSubmit}>\n          <SearchLabel>\n            <SearchField\n              name=\"search\"\n              type=\"text\"\n              autocomplete=\"off\"\n              autoFocus\n              placeholder=\"Search movies\"\n            />\n            <SearchBtn type=\"submit\">\n              <AiOutlineSearch style={{ width: '24px', height: '24px' }} />\n            </SearchBtn>\n          </SearchLabel>\n        </form>\n      </SearchWraper>\n      {error && <p>{error}</p>}\n      {isLoading ? <Loader /> : (\n        <>\n          {moviesList.length > 0 && <MoviesList data={moviesList} prefix=\"\" />}\n        </>)}\n    </main>\n  );\n};\n\nexport default MoviesPage;","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org';\n\nconst API_KEY = 'f341564f871ad54342c422dd44d9e8b4';\n\nconst addParams = abort => {\n  return {\n    signal: abort.signal,\n    params: { api_key: API_KEY },\n  };\n};\n\nexport const loadTrendList = async abort => {\n  return await axios.get('/3/trending/movie/week', addParams(abort));\n};\n\nexport const loadSearchList = async (search, abort) => {\n  return await axios.get(`3/search/movie`, {\n    signal: abort.signal,\n    params: { api_key: API_KEY, query: search },\n  });\n};\n\nexport const loadMovieFulInfo = async (id, abort) => {\n  return await axios.get(`3/movie/${id}`, addParams(abort));\n};\n\nexport const loadMovieCast = async (id, abort) => {\n  return await axios.get(`3/movie/${id}/credits`, addParams(abort));\n};\n\nexport const loadMovieReviews = async (id, abort) => {\n  return await axios.get(`3/movie/${id}/reviews`, addParams(abort));\n};"],"names":["List","styled","_templateObject","_taggedTemplateLiteral","MoviesList","_ref","data","prefix","location","useLocation","_jsx","children","map","elem","Link","to","concat","id","state","from","title","name","SearchWraper","SearchLabel","_templateObject2","SearchField","_templateObject3","SearchBtn","_templateObject4","_useState","useState","_useState2","_slicedToArray","moviesList","setMoviesList","_useState3","_useState4","error","setError","abortController","AbortController","_useState5","_useState6","isLoading","setIsLoading","fetch","_asyncToGenerator","_regeneratorRuntime","mark","_callee","query","result","wrap","_context","prev","next","loadSearchList","sent","results","t0","code","message","stop","_x","apply","arguments","_jsxs","onSubmit","event","preventDefault","searchValue","target","value","type","autocomplete","autoFocus","placeholder","AiOutlineSearch","style","width","height","Loader","_Fragment","length","axios","API_KEY","addParams","abort","signal","params","api_key","loadTrendList","abrupt","_ref2","_callee2","search","_context2","_x2","_x3","loadMovieFulInfo","_ref3","_callee3","_context3","_x4","_x5","loadMovieCast","_ref4","_callee4","_context4","_x6","_x7","loadMovieReviews","_ref5","_callee5","_context5","_x8","_x9"],"sourceRoot":""}