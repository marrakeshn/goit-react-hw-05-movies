{"version":3,"file":"static/js/736.ec32bb38.chunk.js","mappings":"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","sources":["components/Loader.jsx","pages/MovieDetailsPage.styled.js","pages/MovieDetailsPage.jsx","services/tmdb-api.js"],"sourcesContent":["import { Dna } from 'react-loader-spinner';\nimport { useState, useEffect } from 'react';\n\nconst delay = 2000;\nlet setTimeoutInstance;\n  \n\nexport const Loader = ({ pending }) => {\n  const [isExpired, setIsExpired] = useState(true);\n\n  useEffect(() => {\n    if (pending) {\n      setIsExpired(true);\n\n      if (setTimeoutInstance) {\n        clearTimeout(setTimeoutInstance);\n      }\n      setTimeoutInstance = setTimeout(() => {\n        setIsExpired(false);\n      }, delay);\n    }\n  }, [pending]);\n\n  if (!isExpired) {\n    return (\n        <Dna\n            visible={true}\n            height=\"150\"\n            width=\"150\"\n            ariaLabel=\"dna-loading\"\n            wrapperStyle={{}}\n            wrapperClass=\"dna-wrapper\"\n        />\n    );\n  }\n};","import { Link } from 'react-router-dom';\nimport styled from '@emotion/styled';\n\nexport const WraperInfo = styled.div`\n  display: flex;\n  gap: 16px;\n  color: #fff;\n  padding: 8px 0;\n  border-bottom: 1px solid #F5C518;\n`;\n\nexport const Wraper = styled.div`\n  border-bottom: 1px solid #F5C518;\n`;\n\nexport const Title = styled.p`\n  font-size: 16px;\n  font-weight: 500;\n`;\n\nexport const WraperBtn = styled.div`\n  padding: 8px 0;\n  border-bottom: 1px solid #F5C518;\n`;\n\nexport const GoBack = styled(Link)`\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  background-color: white;\n  color: black;\n  font-weight: 600;\n  padding: 4px 16px;\n  width: 150px;\n  text-decoration: none;\n  border: 1px solid grey;\n  border-radius: 4px;\n`;","import { Suspense, useState, useEffect } from 'react';\nimport { AiOutlineArrowLeft } from 'react-icons/ai';\nimport { Outlet, Link, useParams, useLocation } from 'react-router-dom';\nimport { Loader } from 'components/Loader';\nimport { loadMovieFulInfo } from 'services/tmdb-api';\nimport {\n  Title,\n  Wraper,\n  WraperInfo,\n  GoBack,\n  WraperBtn,\n} from './MovieDetailsPage.styled';\n\nconst MovieDetailsPage = () => {\n  const { id } = useParams();\n  const [data, setData] = useState({});\n  const location = useLocation();\n  const [error, setError] = useState('');\n  const [status, setStatus] = useState('idle');\n\n  useEffect(() => {\n    const abortController = new AbortController();\n    async function fetch() {\n      try {\n        setStatus('pending');\n        const result = await loadMovieFulInfo(id, abortController);\n        setData(result.data);\n        setStatus('responded');\n      } catch (err) {\n        err.code !== 'ERR_CANCELED' && setError(err.message || err);\n      }\n    }\n\n    fetch();\n\n    return () => {\n      abortController.abort();\n    };\n  }, [id]);\n\n  const score = data => {\n    return Math.round((data['popularity'] / data['vote_count']) * 100);\n  };\n\n  const genres = listGenres => {\n    return listGenres.map(({ name }) => name).join(', ');\n  };\n\n  const { original_title, poster_path } = data;\n\n  return (\n    <main>\n      {error && <p>{error}</p>}\n      {status === 'responded' && (\n      <>\n      {Object.keys(data).length > 0 && (\n        <div>\n          <WraperBtn>\n            <GoBack to={location.state?.from ?? '/'}>\n              <AiOutlineArrowLeft />\n              Go back\n            </GoBack>\n          </WraperBtn>\n          <WraperInfo>\n              <img\n                src={\n                  poster_path\n                    ? `https://image.tmdb.org/t/p/w400${poster_path}`\n                    : 'https://via.placeholder.com/320x480'\n                }\n                alt={original_title}\n              />\n            <div>\n              <h2>{data['original_title']}</h2>\n              <p>{`User Score: ${score(data)}%`}</p>\n              <h3>Overview</h3>\n              <p>{data['overview']}</p>\n              <h3>Genres</h3>\n              <p>{genres(data['genres'])}</p>\n            </div>\n          </WraperInfo>\n          <Wraper>\n            <Title>Additional information</Title>\n            <ul>\n              <li>\n                <Link\n                  to=\"cast\"\n                  state={{ from: location?.state?.from ?? location }}\n                >\n                  Cast\n                </Link>\n              </li>\n              <li>\n                <Link\n                  to=\"reviews\"\n                  state={{ from: location?.state?.from ?? location }}\n                >\n                  Reviews\n                </Link>\n              </li>\n            </ul>\n          </Wraper>\n          </div>)}</>)}\n          {status === 'pending' && <Loader />}\n          <Suspense fallback={<Loader />}>\n            <Outlet />\n          </Suspense>\n    </main>\n  );\n};\n\nexport default MovieDetailsPage;","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org';\n\nconst API_KEY = 'f341564f871ad54342c422dd44d9e8b4';\n\nconst addParams = abort => {\n  return {\n    signal: abort.signal,\n    params: { api_key: API_KEY },\n  };\n};\n\nexport const loadTrendList = async abort => {\n  return await axios.get('/3/trending/movie/week', addParams(abort));\n};\n\nexport const loadSearchList = async (search, abort) => {\n  return await axios.get(`3/search/movie`, {\n    signal: abort.signal,\n    params: { api_key: API_KEY, query: search },\n  });\n};\n\nexport const loadMovieFulInfo = async (id, abort) => {\n  return await axios.get(`3/movie/${id}`, addParams(abort));\n};\n\nexport const loadMovieCast = async (id, abort) => {\n  return await axios.get(`3/movie/${id}/credits`, addParams(abort));\n};\n\nexport const loadMovieReviews = async (id, abort) => {\n  return await axios.get(`3/movie/${id}/reviews`, addParams(abort));\n};"],"names":["setTimeoutInstance","Loader","_ref","pending","_useState","useState","_useState2","_slicedToArray","isExpired","setIsExpired","useEffect","clearTimeout","setTimeout","_jsx","Dna","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","WraperInfo","styled","_templateObject","_taggedTemplateLiteral","Wraper","_templateObject2","Title","_templateObject3","WraperBtn","_templateObject4","GoBack","Link","_templateObject5","_location$state$from","_location$state","_location$state$from2","_location$state2","_location$state$from3","_location$state3","id","useParams","data","setData","location","useLocation","_useState3","_useState4","error","setError","_useState5","_useState6","status","setStatus","abortController","AbortController","_fetch","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_context","prev","next","loadMovieFulInfo","sent","t0","code","message","stop","apply","arguments","fetch","abort","listGenres","original_title","poster_path","_jsxs","children","_Fragment","Object","keys","length","to","state","from","AiOutlineArrowLeft","src","concat","alt","Math","round","score","map","name","join","Suspense","fallback","Outlet","axios","API_KEY","addParams","signal","params","api_key","loadTrendList","abrupt","_x","loadSearchList","_ref2","_callee2","search","_context2","query","_x2","_x3","_ref3","_callee3","_context3","_x4","_x5","loadMovieCast","_ref4","_callee4","_context4","_x6","_x7","loadMovieReviews","_ref5","_callee5","_context5","_x8","_x9"],"sourceRoot":""}