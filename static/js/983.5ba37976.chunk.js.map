{"version":3,"file":"static/js/983.5ba37976.chunk.js","mappings":"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","sources":["components/MoviesList/MoviesList.styled.js","components/MoviesList/MoviesList.jsx","pages/HomePage.jsx","services/tmdb-api.js"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const List = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  font-size: 16px;\n`;","import { Link, useLocation } from 'react-router-dom';\nimport { List } from './MoviesList.styled';\nimport PropTypes from 'prop-types';\n\nexport const MoviesList = ({ data, prefix }) => {\n  const location = useLocation();\n\n  return (\n    { data } && (\n      <List>\n        {data.map(elem => (\n          <li key={elem.id}>\n            <Link to={`${prefix}${elem.id}`} state={{ from: location }}>\n              {elem.title || elem.name}\n            </Link>\n          </li>\n        ))}\n      </List>\n    )\n  );\n};\n\nMoviesList.propTypes = {\n  data: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};","import { useState, useEffect } from 'react';\nimport { loadTrendList } from 'services/tmdb-api';\nimport { MoviesList } from '../components/MoviesList/MoviesList';\nimport { Loader } from 'components/Loader';\n\nconst HomePage = () => {\n  const [moviesList, setMoviesList] = useState([]);\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const abortController = new AbortController();\n\n    async function fetch() {\n      setIsLoading(true)\n      try {\n        const result = await loadTrendList(abortController);\n        setMoviesList(result.data.results);\n      } catch (err) {\n        err.code !== 'ERR_CANCELED' && setError(err.message || err)\n      }\n      setIsLoading(false)\n    }\n\n    fetch();\n\n    return () => {\n      abortController.abort();\n    };\n  }, []);\n\n  return (\n    <main>\n      <h2>Trending today</h2>\n      {error && <p>{error}</p>}\n      {isLoading ? <Loader /> : (moviesList.length && <MoviesList data={moviesList} prefix=\"movies/\" />)}\n    </main>\n  );\n};\n\nexport default HomePage;","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org';\n\nconst API_KEY = 'f341564f871ad54342c422dd44d9e8b4';\n\nconst addParams = abort => {\n  return {\n    signal: abort.signal,\n    params: { api_key: API_KEY },\n  };\n};\n\nexport const loadTrendList = async abort => {\n  return await axios.get('/3/trending/movie/week', addParams(abort));\n};\n\nexport const loadSearchList = async (search, abort) => {\n  return await axios.get(`3/search/movie`, {\n    signal: abort.signal,\n    params: { api_key: API_KEY, query: search },\n  });\n};\n\nexport const loadMovieFulInfo = async (id, abort) => {\n  return await axios.get(`3/movie/${id}`, addParams(abort));\n};\n\nexport const loadMovieCast = async (id, abort) => {\n  return await axios.get(`3/movie/${id}/credits`, addParams(abort));\n};\n\nexport const loadMovieReviews = async (id, abort) => {\n  return await axios.get(`3/movie/${id}/reviews`, addParams(abort));\n};"],"names":["List","styled","_templateObject","_taggedTemplateLiteral","MoviesList","_ref","data","prefix","location","useLocation","_jsx","children","map","elem","Link","to","concat","id","state","from","title","name","_useState","useState","_useState2","_slicedToArray","moviesList","setMoviesList","_useState3","_useState4","error","setError","_useState5","_useState6","isLoading","setIsLoading","useEffect","abortController","AbortController","_fetch","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_context","prev","next","loadTrendList","sent","results","t0","code","message","stop","apply","arguments","fetch","abort","_jsxs","Loader","length","axios","API_KEY","addParams","signal","params","api_key","abrupt","_x","loadSearchList","_ref2","_callee2","search","_context2","query","_x2","_x3","loadMovieFulInfo","_ref3","_callee3","_context3","_x4","_x5","loadMovieCast","_ref4","_callee4","_context4","_x6","_x7","loadMovieReviews","_ref5","_callee5","_context5","_x8","_x9"],"sourceRoot":""}