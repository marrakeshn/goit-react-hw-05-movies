{"version":3,"file":"static/js/186.2a1c60bf.chunk.js","mappings":"gOAsDA,UAhDgB,WACd,IAAAA,GAAwBC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA7BI,EAAIF,EAAA,GAAEG,EAAOH,EAAA,GACZI,GAAOC,EAAAA,EAAAA,MAAPD,GACRE,GAA0BP,EAAAA,EAAAA,UAAS,IAAGQ,GAAAN,EAAAA,EAAAA,GAAAK,EAAA,GAA/BE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACtBG,GAAkCX,EAAAA,EAAAA,WAAS,GAAMY,GAAAV,EAAAA,EAAAA,GAAAS,EAAA,GAA1CE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GAuB9B,OArBAG,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAkB,IAAIC,gBAER,SAAAC,IASnB,OATmBA,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAApB,SAAAC,IAAA,IAAAC,EAAA,OAAAH,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACoB,OAAlBb,GAAa,GAAKW,EAAAC,KAAA,EAAAD,EAAAE,KAAA,GAEKC,EAAAA,EAAAA,IAAiBvB,EAAIW,GAAiB,KAAD,EAApDO,EAAME,EAAAI,KACZzB,EAAQmB,EAAOpB,KAAK2B,SAASL,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAM,GAAAN,EAAA,SAEhB,iBAAbA,EAAAM,GAAIC,MAA2BtB,EAASe,EAAAM,GAAIE,SAAOR,EAAAM,IAAQ,QAE7DjB,GAAa,GAAM,yBAAAW,EAAAS,OAAA,GAAAZ,EAAA,mBACpBa,MAAA,KAAAC,UAAA,CAID,OAf8C,WAE1BlB,EAAAiB,MAAC,KAADC,UAAA,CAWpBC,GAEO,WACLrB,EAAgBsB,OAClB,CACF,GAAG,CAACjC,KAGFkC,EAAAA,EAAAA,MAACC,EAAAA,SAAQ,CAAAC,SAAA,CACNhC,IAASiC,EAAAA,EAAAA,KAAA,KAAAD,SAAIhC,IACbI,GAAY6B,EAAAA,EAAAA,KAACC,EAAAA,EAAM,KACpBD,EAAAA,EAAAA,KAAAE,EAAAA,SAAA,CAAAH,SACCtC,EAAK0C,OAAS,GACbH,EAAAA,EAAAA,KAAA,MAAAD,SACGtC,EAAK2C,KAAI,SAAAC,GAAI,OACZR,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,KAAAD,SAAA,WAAAO,OAAeD,EAAKE,WACpBP,EAAAA,EAAAA,KAAA,KAAAD,SAAIM,EAAKG,YAAY,GAAAF,OAFXD,EAAK1C,IAGZ,OAITqC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,oDAIX,C,0LClDAU,EAAAA,EAAAA,SAAAA,QAAyB,6BAEzB,IAAMC,EAAU,mCAEVC,EAAY,SAAAf,GAChB,MAAO,CACLgB,OAAQhB,EAAMgB,OACdC,OAAQ,CAAEC,QAASJ,GAEvB,EAEaK,EAAa,eAAAC,GAAAvC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,EAAMgB,GAAK,OAAAlB,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACzBwB,EAAAA,EAAAA,IAAU,yBAA0BE,EAAUf,IAAQ,KAAD,SAAAb,EAAAkC,OAAA,SAAAlC,EAAAI,MAAA,wBAAAJ,EAAAS,OAAA,GAAAZ,EAAA,KACnE,gBAFyBsC,GAAA,OAAAF,EAAAvB,MAAA,KAAAC,UAAA,KAIbyB,EAAc,eAAAC,GAAA3C,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAA0C,EAAOC,EAAQ1B,GAAK,OAAAlB,EAAAA,EAAAA,KAAAI,MAAA,SAAAyC,GAAA,cAAAA,EAAAvC,KAAAuC,EAAAtC,MAAA,cAAAsC,EAAAtC,KAAA,EACnCwB,EAAAA,EAAAA,IAAU,iBAAkB,CACvCG,OAAQhB,EAAMgB,OACdC,OAAQ,CAAEC,QAASJ,EAASc,MAAOF,KAClC,KAAD,SAAAC,EAAAN,OAAA,SAAAM,EAAApC,MAAA,wBAAAoC,EAAA/B,OAAA,GAAA6B,EAAA,KACH,gBAL0BI,EAAAC,GAAA,OAAAN,EAAA3B,MAAA,KAAAC,UAAA,KAOdiC,EAAgB,eAAAC,GAAAnD,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAkD,EAAOlE,EAAIiC,GAAK,OAAAlB,EAAAA,EAAAA,KAAAI,MAAA,SAAAgD,GAAA,cAAAA,EAAA9C,KAAA8C,EAAA7C,MAAA,cAAA6C,EAAA7C,KAAA,EACjCwB,EAAAA,EAAAA,IAAU,WAADH,OAAY3C,GAAMgD,EAAUf,IAAQ,KAAD,SAAAkC,EAAAb,OAAA,SAAAa,EAAA3C,MAAA,wBAAA2C,EAAAtC,OAAA,GAAAqC,EAAA,KAC1D,gBAF4BE,EAAAC,GAAA,OAAAJ,EAAAnC,MAAA,KAAAC,UAAA,KAIhBuC,EAAa,eAAAC,GAAAzD,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAwD,EAAOxE,EAAIiC,GAAK,OAAAlB,EAAAA,EAAAA,KAAAI,MAAA,SAAAsD,GAAA,cAAAA,EAAApD,KAAAoD,EAAAnD,MAAA,cAAAmD,EAAAnD,KAAA,EAC9BwB,EAAAA,EAAAA,IAAU,WAADH,OAAY3C,EAAE,YAAYgD,EAAUf,IAAQ,KAAD,SAAAwC,EAAAnB,OAAA,SAAAmB,EAAAjD,MAAA,wBAAAiD,EAAA5C,OAAA,GAAA2C,EAAA,KAClE,gBAFyBE,EAAAC,GAAA,OAAAJ,EAAAzC,MAAA,KAAAC,UAAA,KAIbR,EAAgB,eAAAqD,GAAA9D,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAA6D,EAAO7E,EAAIiC,GAAK,OAAAlB,EAAAA,EAAAA,KAAAI,MAAA,SAAA2D,GAAA,cAAAA,EAAAzD,KAAAyD,EAAAxD,MAAA,cAAAwD,EAAAxD,KAAA,EACjCwB,EAAAA,EAAAA,IAAU,WAADH,OAAY3C,EAAE,YAAYgD,EAAUf,IAAQ,KAAD,SAAA6C,EAAAxB,OAAA,SAAAwB,EAAAtD,MAAA,wBAAAsD,EAAAjD,OAAA,GAAAgD,EAAA,KAClE,gBAF4BE,EAAAC,GAAA,OAAAJ,EAAA9C,MAAA,KAAAC,UAAA,I","sources":["components/Reviews/Reviews.jsx","services/tmdb-api.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { loadMovieReviews } from 'services/tmdb-api';\nimport { Fragment } from 'react';\nimport { Loader } from 'components/Loader';\n\nconst Reviews = () => {\n  const [data, setData] = useState([]);\n  const { id } = useParams();\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const abortController = new AbortController();\n\n    async function fetch() {\n      setIsLoading(true)\n      try {\n        const result = await loadMovieReviews(id, abortController);\n        setData(result.data.results);\n      } catch (err) {\n        err.code !== 'ERR_CANCELED' && setError(err.message || err)\n      }\n      setIsLoading(false)\n    }\n\n    fetch();\n\n    return () => {\n      abortController.abort();\n    };\n  }, [id]);\n\n  return (\n    <Fragment>\n      {error && <p>{error}</p>}\n      {isLoading ? <Loader /> : (\n      <>\n      {data.length > 0 ? (\n        <ul>\n          {data.map(elem => (\n            <li key={`${elem.id}`}>\n              <p>{`Author: ${elem.author}`}</p>\n              <p>{elem.content}</p>\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <p>We don't have any reviews for this movie :(</p>\n      )}</>)}\n    </Fragment>\n  );\n};\n\nexport default Reviews;","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org';\n\nconst API_KEY = 'f341564f871ad54342c422dd44d9e8b4';\n\nconst addParams = abort => {\n  return {\n    signal: abort.signal,\n    params: { api_key: API_KEY },\n  };\n};\n\nexport const loadTrendList = async abort => {\n  return await axios.get('/3/trending/movie/week', addParams(abort));\n};\n\nexport const loadSearchList = async (search, abort) => {\n  return await axios.get(`3/search/movie`, {\n    signal: abort.signal,\n    params: { api_key: API_KEY, query: search },\n  });\n};\n\nexport const loadMovieFulInfo = async (id, abort) => {\n  return await axios.get(`3/movie/${id}`, addParams(abort));\n};\n\nexport const loadMovieCast = async (id, abort) => {\n  return await axios.get(`3/movie/${id}/credits`, addParams(abort));\n};\n\nexport const loadMovieReviews = async (id, abort) => {\n  return await axios.get(`3/movie/${id}/reviews`, addParams(abort));\n};"],"names":["_useState","useState","_useState2","_slicedToArray","data","setData","id","useParams","_useState3","_useState4","error","setError","_useState5","_useState6","isLoading","setIsLoading","useEffect","abortController","AbortController","_fetch","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_context","prev","next","loadMovieReviews","sent","results","t0","code","message","stop","apply","arguments","fetch","abort","_jsxs","Fragment","children","_jsx","Loader","_Fragment","length","map","elem","concat","author","content","axios","API_KEY","addParams","signal","params","api_key","loadTrendList","_ref","abrupt","_x","loadSearchList","_ref2","_callee2","search","_context2","query","_x2","_x3","loadMovieFulInfo","_ref3","_callee3","_context3","_x4","_x5","loadMovieCast","_ref4","_callee4","_context4","_x6","_x7","_ref5","_callee5","_context5","_x8","_x9"],"sourceRoot":""}